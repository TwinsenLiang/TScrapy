# è´¡çŒ®æŒ‡å—

æ„Ÿè°¢æ‚¨è€ƒè™‘ä¸º TScrapy åšå‡ºè´¡çŒ®ï¼æœ¬æ–‡æ¡£æä¾›äº†è´¡çŒ®çš„æŒ‡å¯¼æ–¹é’ˆã€‚

## ğŸ“‹ ç›®å½•

- [è¡Œä¸ºå‡†åˆ™](#è¡Œä¸ºå‡†åˆ™)
- [å¦‚ä½•è´¡çŒ®](#å¦‚ä½•è´¡çŒ®)
- [å¼€å‘è®¾ç½®](#å¼€å‘è®¾ç½®)
- [æäº¤æµç¨‹](#æäº¤æµç¨‹)
- [ä»£ç è§„èŒƒ](#ä»£ç è§„èŒƒ)
- [é—®é¢˜æŠ¥å‘Š](#é—®é¢˜æŠ¥å‘Š)
- [åŠŸèƒ½è¯·æ±‚](#åŠŸèƒ½è¯·æ±‚)

## ğŸ¤ è¡Œä¸ºå‡†åˆ™

æœ¬é¡¹ç›®éµå¾ªå¼€æºç¤¾åŒºçš„è¡Œä¸ºå‡†åˆ™ï¼š

- å°Šé‡æ‰€æœ‰è´¡çŒ®è€…
- æ¥å—å»ºè®¾æ€§æ‰¹è¯„
- å…³æ³¨å¯¹ç¤¾åŒºæœ€æœ‰åˆ©çš„äº‹æƒ…
- å¯¹å…¶ä»–ç¤¾åŒºæˆå‘˜è¡¨ç¤ºåŒç†å¿ƒ

## ğŸ’¡ å¦‚ä½•è´¡çŒ®

### è´¡çŒ®ç±»å‹

æˆ‘ä»¬æ¬¢è¿ä»¥ä¸‹ç±»å‹çš„è´¡çŒ®ï¼š

1. **Bug ä¿®å¤** ğŸ›
   - ä¿®å¤ä»£ç ä¸­çš„é”™è¯¯
   - ä¿®å¤æ–‡æ¡£ä¸­çš„é”™è¯¯

2. **åŠŸèƒ½å¢å¼º** âœ¨
   - å®ç° ROADMAP ä¸­è§„åˆ’çš„åŠŸèƒ½
   - æå‡ºå¹¶å®ç°æ–°åŠŸèƒ½

3. **æ–‡æ¡£æ”¹è¿›** ğŸ“
   - æ”¹è¿›ç°æœ‰æ–‡æ¡£
   - æ·»åŠ ç¤ºä¾‹å’Œæ•™ç¨‹
   - ç¿»è¯‘æ–‡æ¡£

4. **æµ‹è¯•** ğŸ§ª
   - æ·»åŠ å•å…ƒæµ‹è¯•
   - æ·»åŠ é›†æˆæµ‹è¯•
   - æé«˜ä»£ç è¦†ç›–ç‡

5. **æ€§èƒ½ä¼˜åŒ–** âš¡
   - æå‡è¿è¡Œé€Ÿåº¦
   - å‡å°‘å†…å­˜å ç”¨
   - ä¼˜åŒ–ç£ç›˜ I/O

## ğŸ”§ å¼€å‘è®¾ç½®

### 1. Fork é¡¹ç›®

ç‚¹å‡» GitHub é¡µé¢å³ä¸Šè§’çš„ "Fork" æŒ‰é’®ã€‚

### 2. å…‹éš†ä»“åº“

```bash
git clone https://github.com/YOUR_USERNAME/TScrapy.git
cd TScrapy
```

### 3. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

```bash
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ–
venv\Scripts\activate     # Windows
```

### 4. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 5. åˆ›å»ºåˆ†æ”¯

```bash
git checkout -b feature/your-feature-name
# æˆ–
git checkout -b fix/your-bug-fix
```

## ğŸ“¤ æäº¤æµç¨‹

### 1. ç¡®ä¿ä»£ç è´¨é‡

åœ¨æäº¤å‰ï¼Œè¯·ç¡®ä¿ï¼š

- [ ] ä»£ç å¯ä»¥æ­£å¸¸è¿è¡Œ
- [ ] éµå¾ªä»£ç è§„èŒƒ
- [ ] æ·»åŠ äº†å¿…è¦çš„æ³¨é‡Š
- [ ] æ›´æ–°äº†ç›¸å…³æ–‡æ¡£
- [ ] æ·»åŠ äº†æµ‹è¯•ï¼ˆå¦‚æœé€‚ç”¨ï¼‰

### 2. æäº¤æ›´æ”¹

```bash
git add .
git commit -m "ç±»å‹: ç®€çŸ­æè¿°

è¯¦ç»†æè¿°ï¼ˆå¯é€‰ï¼‰"
```

**æäº¤æ¶ˆæ¯ç±»å‹**:
- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `refactor`: é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·é“¾æ›´æ–°

**ç¤ºä¾‹**:
```bash
git commit -m "feat: æ·»åŠ å¤šçº¿ç¨‹çˆ¬å–æ”¯æŒ

- ä½¿ç”¨ ThreadPoolExecutor å®ç°å¹¶å‘
- æ·»åŠ  --workers å‚æ•°
- æ›´æ–°æ–‡æ¡£å’Œç¤ºä¾‹"
```

### 3. æ¨é€åˆ° Fork

```bash
git push origin feature/your-feature-name
```

### 4. åˆ›å»º Pull Request

1. è®¿é—®æ‚¨çš„ Fork é¡µé¢
2. ç‚¹å‡» "New Pull Request"
3. å¡«å†™ PR æè¿°ï¼š
   - è¯´æ˜æ›´æ”¹å†…å®¹
   - å…³è”ç›¸å…³ Issue
   - æ·»åŠ æµ‹è¯•æˆªå›¾ï¼ˆå¦‚æœé€‚ç”¨ï¼‰
4. æäº¤ PR

### 5. ä»£ç å®¡æŸ¥

- ç»´æŠ¤è€…ä¼šå®¡æŸ¥æ‚¨çš„ PR
- å¯èƒ½ä¼šæå‡ºä¿®æ”¹å»ºè®®
- æ ¹æ®åé¦ˆè¿›è¡Œè°ƒæ•´
- å®¡æŸ¥é€šè¿‡åä¼šè¢«åˆå¹¶

## ğŸ“ ä»£ç è§„èŒƒ

### Python ä»£ç é£æ ¼

éµå¾ª PEP 8 è§„èŒƒï¼š

```python
# å¥½çš„ç¤ºä¾‹
def fetch_page(url: str) -> Optional[requests.Response]:
    """è·å–é¡µé¢å†…å®¹"""
    try:
        response = session.get(url, timeout=10)
        return response
    except Exception as e:
        logger.error(f"è¯·æ±‚å¤±è´¥: {e}")
        return None


# ä¸å¥½çš„ç¤ºä¾‹
def fetchPage(url):
    try:
        r=session.get(url)
        return r
    except:
        return None
```

### å‘½åè§„èŒƒ

- **å‡½æ•°/å˜é‡**: `snake_case`
- **ç±»**: `PascalCase`
- **å¸¸é‡**: `UPPER_SNAKE_CASE`
- **ç§æœ‰æˆå‘˜**: `_leading_underscore`

### æ³¨é‡Šè§„èŒƒ

```python
class WebScraper:
    """ç½‘ç«™çˆ¬è™«ç±»

    ç”¨äºçˆ¬å–ç½‘ç«™å†…å®¹å¹¶ä¿å­˜åˆ°æœ¬åœ°ã€‚
    æ”¯æŒæ·±åº¦æ§åˆ¶ã€åŸŸåé™åˆ¶ç­‰åŠŸèƒ½ã€‚
    """

    def fetch_page(self, url: str) -> Optional[requests.Response]:
        """è·å–é¡µé¢å†…å®¹

        Args:
            url: ç›®æ ‡ URL

        Returns:
            Response å¯¹è±¡ï¼Œå¤±è´¥æ—¶è¿”å› None
        """
        pass
```

### ç±»å‹æ³¨è§£

```python
from typing import List, Optional, Tuple

def extract_links(self, url: str, soup: BeautifulSoup) -> List[str]:
    """æå–é“¾æ¥"""
    links: List[str] = []
    # ...
    return links
```

## ğŸ› é—®é¢˜æŠ¥å‘Š

### æŠ¥å‘Š Bug

ä½¿ç”¨ [Bug Report æ¨¡æ¿](https://github.com/yourusername/TScrapy/issues/new?template=bug_report.md)

**åŒ…å«ä»¥ä¸‹ä¿¡æ¯**:

1. **Bug æè¿°**: æ¸…æ™°ç®€æ´çš„æè¿°
2. **é‡ç°æ­¥éª¤**:
   - æ‰§è¡Œçš„å‘½ä»¤
   - ä½¿ç”¨çš„å‚æ•°
   - ç›®æ ‡ç½‘ç«™ï¼ˆå¦‚æœå¯ä»¥å…¬å¼€ï¼‰
3. **é¢„æœŸè¡Œä¸º**: åº”è¯¥å‘ç”Ÿä»€ä¹ˆ
4. **å®é™…è¡Œä¸º**: å®é™…å‘ç”Ÿäº†ä»€ä¹ˆ
5. **ç¯å¢ƒä¿¡æ¯**:
   - æ“ä½œç³»ç»Ÿ
   - Python ç‰ˆæœ¬
   - TScrapy ç‰ˆæœ¬
6. **é”™è¯¯æ—¥å¿—**: å®Œæ•´çš„é”™è¯¯å †æ ˆ
7. **æˆªå›¾**: å¦‚æœé€‚ç”¨

### ç¤ºä¾‹ Bug æŠ¥å‘Š

```markdown
## Bug æè¿°
çˆ¬å–æ·±åº¦è¶…è¿‡ 5 å±‚æ—¶ç¨‹åºå´©æºƒ

## é‡ç°æ­¥éª¤
1. è¿è¡Œå‘½ä»¤: `python scraper.py https://example.com -d 6`
2. ç­‰å¾…çˆ¬å–åˆ°ç¬¬ 5 å±‚
3. ç¨‹åºæŠ›å‡ºå¼‚å¸¸

## é¢„æœŸè¡Œä¸º
åº”è¯¥æ­£å¸¸çˆ¬å– 6 å±‚æ·±åº¦

## å®é™…è¡Œä¸º
æŠ›å‡º RecursionError å¼‚å¸¸

## ç¯å¢ƒ
- OS: macOS 14.0
- Python: 3.11.5
- TScrapy: 1.0.0

## é”™è¯¯æ—¥å¿—
\```
RecursionError: maximum recursion depth exceeded
  File "scraper.py", line 145, in crawl
\```
```

## âœ¨ åŠŸèƒ½è¯·æ±‚

ä½¿ç”¨ [Feature Request æ¨¡æ¿](https://github.com/yourusername/TScrapy/issues/new?template=feature_request.md)

**åŒ…å«ä»¥ä¸‹ä¿¡æ¯**:

1. **åŠŸèƒ½æè¿°**: æ‚¨å¸Œæœ›æ·»åŠ ä»€ä¹ˆåŠŸèƒ½
2. **ä½¿ç”¨åœºæ™¯**: ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªåŠŸèƒ½
3. **å»ºè®®å®ç°**: æ‚¨è®¤ä¸ºåº”è¯¥å¦‚ä½•å®ç°ï¼ˆå¯é€‰ï¼‰
4. **æ›¿ä»£æ–¹æ¡ˆ**: æœ‰æ²¡æœ‰å…¶ä»–è§£å†³æ–¹æ¡ˆ
5. **ä¼˜å…ˆçº§**: æ‚¨è®¤ä¸ºçš„ä¼˜å…ˆçº§

### ç¤ºä¾‹åŠŸèƒ½è¯·æ±‚

```markdown
## åŠŸèƒ½æè¿°
æ·»åŠ å¤šçº¿ç¨‹çˆ¬å–æ”¯æŒ

## ä½¿ç”¨åœºæ™¯
å½“å‰å•çº¿ç¨‹çˆ¬å–é€Ÿåº¦è¾ƒæ…¢ï¼Œçˆ¬å– 1000 ä¸ªé¡µé¢éœ€è¦ 1-2 å°æ—¶ã€‚
å¸Œæœ›é€šè¿‡å¤šçº¿ç¨‹æå‡é€Ÿåº¦ã€‚

## å»ºè®®å®ç°
- ä½¿ç”¨ `concurrent.futures.ThreadPoolExecutor`
- æ·»åŠ  `--workers` å‚æ•°æ§åˆ¶çº¿ç¨‹æ•°
- é»˜è®¤ä¿æŒå•çº¿ç¨‹ï¼Œé¿å…ç ´åæ€§å˜æ›´

## ä¼˜å…ˆçº§
é«˜ - è¿™ä¼šæ˜¾è‘—æå‡ç”¨æˆ·ä½“éªŒ
```

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•ï¼ˆå¾…å®ç°ï¼‰

```bash
# å•å…ƒæµ‹è¯•
pytest tests/

# è¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=scraper tests/
```

### æ·»åŠ æµ‹è¯•

ä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯•ï¼š

```python
# tests/test_scraper.py
def test_fetch_page():
    scraper = WebScraper("https://example.com")
    response = scraper.fetch_page("https://example.com")
    assert response is not None
    assert response.status_code == 200
```

## ğŸ“š æ–‡æ¡£

### æ›´æ–°æ–‡æ¡£

å¦‚æœæ‚¨çš„æ›´æ”¹å½±å“äº†ç”¨æˆ·ä½¿ç”¨æ–¹å¼ï¼š

- [ ] æ›´æ–° README.md
- [ ] æ›´æ–°å‘½ä»¤è¡Œå¸®åŠ©
- [ ] æ·»åŠ ç¤ºä¾‹
- [ ] æ›´æ–° CHANGELOG.md

## ğŸ† è´¡çŒ®è€…

è´¡çŒ®è€…åˆ—è¡¨è§ [CONTRIBUTORS.md](CONTRIBUTORS.md)

## â“ é—®é¢˜ï¼Ÿ

å¦‚æœ‰ç–‘é—®ï¼Œè¯·ï¼š

- æŸ¥çœ‹ [FAQ](README.md#å¸¸è§é—®é¢˜)
- æäº¤ [GitHub Issue](https://github.com/yourusername/TScrapy/issues)
- å‘é€é‚®ä»¶è‡³ your.email@example.com

## ğŸ“„ è®¸å¯è¯

è´¡çŒ®çš„ä»£ç å°†é‡‡ç”¨ä¸é¡¹ç›®ç›¸åŒçš„ MIT è®¸å¯è¯ã€‚

---

å†æ¬¡æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼ğŸ‰
